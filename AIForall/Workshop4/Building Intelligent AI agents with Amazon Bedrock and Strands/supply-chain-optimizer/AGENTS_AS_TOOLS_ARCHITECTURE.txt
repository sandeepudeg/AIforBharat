================================================================================
AGENTS AS TOOLS - ARCHITECTURE DIAGRAM
================================================================================

BEFORE: Standalone Agents
================================================================================

run_with_aws_services.py
    â†“
    â”œâ”€â†’ Forecasting Agent
    â”œâ”€â†’ Inventory Agent
    â”œâ”€â†’ Supplier Agent
    â”œâ”€â†’ Anomaly Agent
    â””â”€â†’ Report Agent
    â†“
    AWS Services (DynamoDB, S3, SNS)


AFTER: Agents as Tools
================================================================================

User Query
    â†“
supply_chain_orchestrator.py (Strands Agent)
    â†“
    Analyzes query and decides which tools to use
    â†“
    â”œâ”€â†’ @tool forecast_demand()
    â”œâ”€â†’ @tool optimize_inventory()
    â”œâ”€â†’ @tool create_purchase_order()
    â”œâ”€â†’ @tool detect_anomalies()
    â”œâ”€â†’ @tool generate_report()
    â””â”€â†’ @tool get_inventory_status()
    â†“
    Each tool calls the underlying agent
    â†“
    AWS Services (DynamoDB, S3, SNS)
    â†“
    Results returned to user


TOOL ARCHITECTURE
================================================================================

src/agents/agent_tools.py
â”‚
â”œâ”€ @tool forecast_demand()
â”‚  â””â”€ Calls: DemandForecastingAgent
â”‚     â””â”€ Stores: DynamoDB (forecasts table)
â”‚
â”œâ”€ @tool optimize_inventory()
â”‚  â””â”€ Calls: InventoryOptimizerAgent
â”‚     â””â”€ Returns: EOQ, reorder point
â”‚
â”œâ”€ @tool create_purchase_order()
â”‚  â””â”€ Calls: SupplierCoordinationAgent
â”‚     â””â”€ Stores: DynamoDB (purchase_orders table)
â”‚
â”œâ”€ @tool detect_anomalies()
â”‚  â””â”€ Calls: AnomalyDetectionAgent
â”‚     â””â”€ Stores: DynamoDB (anomalies table)
â”‚     â””â”€ Sends: SNS alerts
â”‚
â”œâ”€ @tool generate_report()
â”‚  â””â”€ Calls: ReportGenerationAgent
â”‚     â””â”€ Stores: S3 (reports bucket)
â”‚
â””â”€ @tool get_inventory_status()
   â””â”€ Reads: DynamoDB (inventory table)


ORCHESTRATOR AGENT FLOW
================================================================================

User Input
    â†“
supply_chain_orchestrator.py
    â”œâ”€ Receives query
    â”œâ”€ Analyzes with Claude (Bedrock)
    â”œâ”€ Decides which tools to use
    â”œâ”€ Calls tools in sequence
    â”œâ”€ Collects results
    â””â”€ Returns response to user


EXAMPLE: "Optimize supply chain for PROD-001"
================================================================================

User Query
    â†“
Orchestrator Agent
    â”œâ”€ Understands: Need to optimize supply chain
    â”œâ”€ Decides: Need forecast â†’ optimization â†’ PO â†’ anomaly check â†’ report
    â”œâ”€ Calls: forecast_demand(sku='PROD-001', ...)
    â”‚   â””â”€ Returns: Forecast with confidence intervals
    â”œâ”€ Calls: optimize_inventory(sku='PROD-001', annual_demand=..., ...)
    â”‚   â””â”€ Returns: EOQ, reorder point
    â”œâ”€ Calls: create_purchase_order(sku='PROD-001', quantity=..., ...)
    â”‚   â””â”€ Returns: PO details
    â”œâ”€ Calls: detect_anomalies(sku='PROD-001', ...)
    â”‚   â””â”€ Returns: Anomaly status
    â”œâ”€ Calls: generate_report(inventory_data=..., ...)
    â”‚   â””â”€ Returns: Report with KPIs
    â””â”€ Returns: Complete optimization summary


DATA FLOW
================================================================================

Tool Execution
    â†“
    â”œâ”€ forecast_demand()
    â”‚  â””â”€ DynamoDB: forecasts table
    â”‚
    â”œâ”€ optimize_inventory()
    â”‚  â””â”€ Returns calculations (no storage)
    â”‚
    â”œâ”€ create_purchase_order()
    â”‚  â””â”€ DynamoDB: purchase_orders table
    â”‚
    â”œâ”€ detect_anomalies()
    â”‚  â”œâ”€ DynamoDB: anomalies table
    â”‚  â””â”€ SNS: Alert notifications
    â”‚
    â”œâ”€ generate_report()
    â”‚  â””â”€ S3: reports/YYYY/MM/DD/
    â”‚
    â””â”€ get_inventory_status()
       â””â”€ DynamoDB: inventory table (read)


TOOL INTERACTION PATTERNS
================================================================================

Pattern 1: Sequential Tools
    forecast_demand()
        â†“
    optimize_inventory()
        â†“
    create_purchase_order()

Pattern 2: Parallel Tools
    get_inventory_status()  â”€â”
    detect_anomalies()      â”œâ”€â†’ generate_report()
    get_supplier_data()     â”€â”˜

Pattern 3: Conditional Tools
    detect_anomalies()
        â†“
    if anomaly detected:
        â”œâ”€ generate_report()
        â””â”€ send_alert()
    else:
        â””â”€ return "No issues"


AGENT CAPABILITIES
================================================================================

Orchestrator Agent can:

1. Understand natural language queries
   "Forecast demand for PROD-001"
   "Optimize inventory"
   "Check for anomalies"

2. Decide which tools to use
   Query â†’ Analysis â†’ Tool Selection

3. Call tools in sequence
   Tool 1 â†’ Tool 2 â†’ Tool 3

4. Combine results
   Result 1 + Result 2 + Result 3 = Final Answer

5. Provide recommendations
   Based on tool results, suggest actions


COMPARISON: BEFORE vs AFTER
================================================================================

BEFORE (Standalone):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ run_with_aws_services.py                â”‚
â”‚                                         â”‚
â”‚ 1. Create inventory data                â”‚
â”‚ 2. Generate forecast                    â”‚
â”‚ 3. Optimize inventory                   â”‚
â”‚ 4. Create purchase order                â”‚
â”‚ 5. Detect anomalies                     â”‚
â”‚ 6. Generate report                      â”‚
â”‚                                         â”‚
â”‚ Fixed workflow, no flexibility          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AFTER (Tools):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ supply_chain_orchestrator.py            â”‚
â”‚                                         â”‚
â”‚ User: "Forecast demand for PROD-001"   â”‚
â”‚ â†“                                       â”‚
â”‚ Agent: Calls forecast_demand()          â”‚
â”‚ â†“                                       â”‚
â”‚ Result: Forecast returned               â”‚
â”‚                                         â”‚
â”‚ User: "Optimize inventory"              â”‚
â”‚ â†“                                       â”‚
â”‚ Agent: Calls optimize_inventory()       â”‚
â”‚ â†“                                       â”‚
â”‚ Result: EOQ and reorder point           â”‚
â”‚                                         â”‚
â”‚ Flexible, interactive, intelligent     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


INTEGRATION WITH OTHER AGENTS
================================================================================

Your Tools can be used in:

1. Other Strands Agents
   from src.agents.agent_tools import forecast_demand
   
   agent = Agent(
       model=model,
       tools=[forecast_demand, ...],
   )

2. Multi-Agent Systems
   Agent 1 (Planning) â†’ forecast_demand()
   Agent 2 (Execution) â†’ create_purchase_order()
   Agent 3 (Monitoring) â†’ detect_anomalies()

3. Custom Workflows
   Your own orchestration logic using the tools


RUNNING THE SYSTEM
================================================================================

Interactive Mode:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $ python supply_chain_orchestrator.py   â”‚
â”‚                                         â”‚
â”‚ ğŸ‘¤ You: Forecast demand for PROD-001   â”‚
â”‚ ğŸ¤– Orchestrator: [calls forecast_demand]â”‚
â”‚ ğŸ¤– Result: Forecast generated...       â”‚
â”‚                                         â”‚
â”‚ ğŸ‘¤ You: Optimize inventory             â”‚
â”‚ ğŸ¤– Orchestrator: [calls optimize_inv]  â”‚
â”‚ ğŸ¤– Result: EOQ calculated...           â”‚
â”‚                                         â”‚
â”‚ ğŸ‘¤ You: exit                           â”‚
â”‚ ğŸ‘‹ Goodbye!                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example Mode:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $ python supply_chain_orchestrator.py   â”‚
â”‚   --example                             â”‚
â”‚                                         â”‚
â”‚ Running example workflow...             â”‚
â”‚ âœ“ Step 1: Forecasting demand           â”‚
â”‚ âœ“ Step 2: Optimizing inventory         â”‚
â”‚ âœ“ Step 3: Creating purchase order      â”‚
â”‚ âœ“ Step 4: Detecting anomalies          â”‚
â”‚ âœ“ Step 5: Generating report            â”‚
â”‚ âœ“ Workflow completed!                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


SUMMARY
================================================================================

Your agents are now:
âœ“ Tools that can be called by Strands Agents
âœ“ Flexible and composable
âœ“ Intelligent and interactive
âœ“ Integrated with AWS services
âœ“ Ready for multi-agent systems

Start with:
  python supply_chain_orchestrator.py

Then ask questions and watch the agent work!

================================================================================
